<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Estados de la materia – Modelo molecular</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f7f7f7;
  padding: 20px;
}

h1 { color: #5A2382; }
h2 { color: #0087C8; }

button {
  padding: 10px 15px;
  margin: 5px;
  background: #E6500F;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

input[type=range] {
  width: 300px;
}

.box {
  background: white;
  padding: 15px;
  border-radius: 8px;
  margin-top: 15px;
}

canvas {
  border: 1px solid #ccc;
  background: #fff;
}
</style>
</head>

<body>

<h1>Estados de la materia</h1>

<div class="box">
<h2>Consigna</h2>
<p>
Mové la temperatura y observá:
<br>
<b>¿Qué tan juntas están las partículas?</b><br>
<b>¿Cómo cambia su movimiento?</b>
</p>
</div>

<div class="box">
Temperatura:
<span id="tempValor">20</span> °C
<br>
<input type="range" min="-10" max="120" value="20" id="temp" oninput="actualizar()">
</div>

<div class="box">
<strong>Estado:</strong> <span id="estadoTexto">Líquido</span>
</div>

<div class="box">
<canvas id="canvas" width="400" height="400"></canvas>
</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

let particulas = [];

function actualizar() {
  const t = document.getElementById("temp").value;
  document.getElementById("tempValor").innerText = t;

  let estado = "liquido";
  if (t < 0) estado = "solido";
  if (t >= 100) estado = "gaseoso";

  document.getElementById("estadoTexto").innerText =
    estado.charAt(0).toUpperCase() + estado.slice(1);

  crearParticulas(estado);
}

function crearParticulas(estado) {
  particulas = [];
  let velocidad = 0;

  if (estado === "solido") velocidad = 0.2;
  if (estado === "liquido") velocidad = 1;
  if (estado === "gaseoso") velocidad = 3;

  for (let i = 0; i < 36; i++) {
    particulas.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      vx: (Math.random() - 0.5) * velocidad,
      vy: (Math.random() - 0.5) * velocidad
    });
  }
}

function animar() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  for (let p of particulas) {
    p.x += p.vx;
    p.y += p.vy;

    if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
    if (p.y < 0 || p.y > canvas.height) p.vy *= -1;

    ctx.beginPath();
    ctx.arc(p.x, p.y, 4, 0, Math.PI * 2);
    ctx.fillStyle = "#0087C8";
    ctx.fill();
  }

  requestAnimationFrame(animar);
}

actualizar();
animar();
</script>

</body>
</html>
